# Build flow for generating HLS code from a circuit model

# set Vivado location if not already defined
# VIVADO_HOME ?= /Volumes/C/Xilinx/Vivado/2018.2/

# define model location
MODEL_FILE = model.py

# tool binaries
CC = g++
PYTHON = python3

.PHONY: all generate compile run clean

all: generate compile run

generate:
	$(PYTHON) $(MODEL_FILE)

compile: 
	$(CC) -I../../msdsl ../../msdsl/vcd.cpp stim.cpp model.cpp -o stim

run: 
	./stim

clean: 
	rm -f model.cpp model.hpp stim out.vcd
